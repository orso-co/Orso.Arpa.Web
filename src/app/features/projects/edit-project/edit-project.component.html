<form [formGroup]="form">
  <div class="p-fluid p-formgrid p-grid">
    <div class="p-col-12 p-md-4">
      <div class="p-field p-col-12">
        <label for="title">{{ 'projects.TITLE' | translate }} *</label>
        <input type="text" pInputText formControlName="title" maxlength="50" id="title" />
      </div>
      <div class="p-field p-col-12">
        <label for="startDate">{{ 'projects.START' | translate }}</label>
        <p-calendar
          formControlName="startDate"
          id="startDate"
          dateFormat="dd MM yy"
          [showWeek]="true"
        ></p-calendar>
      </div>
      <div class="p-field p-col-12">
        <label for="endDate">{{ 'projects.END' | translate }}</label>
        <p-calendar
          formControlName="endDate"
          id="endDate"
          dateFormat="dd MM yy"
          [showWeek]="true"
        ></p-calendar>
      </div>
      <div class="p-field p-col-12">
        <label for="isCompleted">{{ 'projects.COMPLETED' | translate }} *</label>
        <p-dropdown
          appendTo="body"
          [showClear]="true"
          [required]="true"
          formControlName="isCompleted"
          [autoDisplayFirst]="false"
          [options]="completedOptions"
          id="isCompleted"
        ></p-dropdown>
      </div>
    </div>

    <div class="p-col-12 p-md-4">
      <div class="p-field p-col-12">
        <label for="shortTitle">{{ 'projects.ABBREVIATION' | translate }} *</label>
        <input type="text" pInputText formControlName="shortTitle" maxlength="50" id="shortTitle" />
      </div>
      <div class="p-field p-col-12">
        <label for="genre">{{ 'projects.GENRE' | translate }}</label>
        <p-dropdown
          appendTo="body"
          [showClear]="true"
          formControlName="genreId"
          [autoDisplayFirst]="false"
          [options]="(genre | async) || []"
          id="genre"
        ></p-dropdown>
      </div>
      <div class="p-field p-col-12">
        <label for="type">{{ 'projects.TYPE' | translate }}</label>
        <p-dropdown
          appendTo="body"
          [showClear]="true"
          formControlName="typeId"
          [autoDisplayFirst]="false"
          [options]="(type | async) || []"
          id="type"
        ></p-dropdown>
      </div>
      <div class="p-field p-col-12">
          <label for="venue">{{ 'editappointments.VENUE' | translate }}</label>
          <p-dropdown
            appendTo="body"
            [autoDisplayFirst]="false"
            [showClear]="true"
            [options]="(venues | async) || []"
            id="venue"
            name="venue"
          ></p-dropdown>
        </div>
    </div>

    <div class="p-col-12 p-md-4">
      <div class="p-field p-col-12">
        <label for="code">{{ 'projects.CODE' | translate }} *</label>
        <input type="text" pInputText formControlName="code" maxlength="15" id="code" />
      </div>
      <div class="p-field p-col-12">
        <label for="parent">{{ 'projects.PARENT' | translate }}</label>
        <p-dropdown
          appendTo="body"
          [showClear]="true"
          formControlName="parentId"
          [autoDisplayFirst]="false"
          [options]="(parentProject | async) || []"
          id="parent"
        ></p-dropdown>
      </div>
      <div class="p-field p-col-12">
        <label for="state">{{ 'projects.STATE' | translate }}</label>
        <p-dropdown
          appendTo="body"
          [showClear]="true"
          formControlName="stateId"
          [autoDisplayFirst]="false"
          [options]="(state | async) || []"
          id="state"
        ></p-dropdown>
      </div>
      <div class="p-field p-col-12">
        <label for="description">{{ 'projects.DESCRIPTION' | translate }}</label>
        <textarea
          formControlName="description"
          id="description"
        ></textarea>
      </div>
    </div>
  </div>
  <div class='p-formgroup-inline p-jc-between'>
    <div class='p-field p-col'>
      <button
        pButton
        class="p-ml-3 p-button-danger"
        type="button"
        [label]="'CANCEL' | translate"
        icon="pi pi-times"
        iconPos="left"
        (click)="cancel()"
      ></button>
    </div>
    <div class='p-field p-col p-text-right' style='margin-right: 0'>
      <button
        pButton
        type="submit"
        [label]="'editappointments.SAVECLOSE' | translate"
        icon="pi pi-check"
        iconPos="left"
        [disabled]="form.pristine || form.invalid"
        (click)="onSubmit()"
      ></button>
    </div>
  </div>
</form>
