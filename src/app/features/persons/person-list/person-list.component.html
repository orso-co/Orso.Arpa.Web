<arpa-graph-ql-feed [contentTemplate]='feed' [query]='query'></arpa-graph-ql-feed>

<ng-template #feed let-feed>
  <p-table #dt1 [value]='(feed.values | async) || []' dataKey='id'
           [rows]='10'
           [rowsPerPageOptions]='[10,25,50]'
           [paginator]='true'
           [globalFilterFields]="['givenName','surname','aboutMe']">
    <ng-template pTemplate='caption'>
      <div class='p-d-flex'>
      <span class='p-input-icon-left p-mr-auto'>
          <i class='pi pi-search'></i>
          <input pInputText type='text' (input)="dt1.filterGlobal($event.target.value, 'contains')"
                 [placeholder]='"SEARCH" | translate' />
      </span>
        <button pButton [label]='"CLEAR" | translate' class='p-button-outlined' icon='pi pi-filter-slash'
                (click)='clear(dt1)'></button>
      </div>
    </ng-template>
    <ng-template pTemplate='header'>
      <tr>
        <th pSortableColumn='givenName'>
          <div class='p-d-flex p-jc-between p-ai-center'>
            {{ 'GIVENNAME' | translate }}
            <p-columnFilter type='text' field='givenName' display='menu'></p-columnFilter>
          </div>
        </th>
        <th pSortableColumn='surname'>
          <div class='p-d-flex p-jc-between p-ai-center'>
            {{ 'SURNAME' | translate }}
            <p-columnFilter type='text' field='surname' display='menu'></p-columnFilter>
          </div>
        </th>
        <th pSortableColumn='aboutMe'>
          <div class='p-d-flex p-jc-between p-ai-center'>
            {{ 'ABOUTME' | translate }}
            <p-columnFilter type='text' field='aboutMe' display='menu'></p-columnFilter>
          </div>
        </th>
        <th></th>
      </tr>
    </ng-template>
    <ng-template pTemplate='body' let-person>
      <tr>
        <td>{{ person.givenName }}</td>
        <td>{{ person.surname }}</td>
        <td>{{ person.aboutMe }}</td>
      </tr>
      </ng-template>
  </p-table>
</ng-template>

