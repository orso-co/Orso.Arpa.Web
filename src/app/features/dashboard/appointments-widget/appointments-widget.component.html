<div class="p-d-flex p-flex-column">
  <span>Deinen Terminstatus kannst du Ã¤ndern unter "Meine Termine"</span>
</div>
<div class='p-grid p-jc-center p-mt-4'>
  <div class='p-col-12 p-md-10 p-lg-12'>
    <p-table
      (onLazyLoad)='loadData($event.rows, $event.first)'
      routerLink="../../profile/appointments"
      [lazy]='true'
      [rows]='5'
      [totalRecords]='(totalRecordsCount$ | async) || 0'
      [value]='(userAppointments$ | async) || []'
      tableStyleClass='arpa-table-list'
    >
    <ng-template let-appointment pTemplate="body">
      <ng-container *ngTemplateOutlet="listElement; context: { $implicit: appointment }"></ng-container>
    </ng-template>
  </p-table>
</div>
</div>

<ng-template #listElement let-appointment>
  <td class="p-d-flex p-jc-between">
    <div class="p-flex-column p-mr-4 date">
      <span class="year">{{ appointment.startTime | localizedDate: 'YYYY' }}</span>
      <span class="month-name">{{ appointment.startTime | localizedDate: 'MMMM' }}</span>
      <span class="day-name">{{ appointment.startTime | localizedDate: 'EEEE' }}</span>

      <span class="day">{{ appointment.startTime | date: 'dd':'locale(de)' }}</span>
      <span class="status">{{ appointment.status?.name | uppercase }}</span>
    </div>
    <div class="p-flex-column p-mr-2 details">
      <span class="name"
        >{{ appointment.name }}
        <p-badge
          *ngIf="appointment.predictionId"
          [value]="appointment.predictionId | selectValue: predictions"
          severity="warning"
        ></p-badge>
        <p-badge *ngIf="appointment.result" [value]="appointment.result" severity="info"></p-badge>
      </span>
      <span class="time"
        >{{ appointment.startTime | date: 'H:mm':'locale(de)' }}-{{ appointment.endTime | date: 'H:mm':'locale(de)' }}
        <span *ngIf="appointment.venue?.name" class="venue"> - {{ appointment.venue?.name }}</span>
      </span>
      <p-badge *ngIf="appointment.category?.name" class="category" [value]="appointment.category?.name">
      </p-badge>
      <span class="publicDetails">{{ appointment.publicDetails }}</span>

      <span *ngIf="appointment.projects.length > 0" class="projects">
        {{ 'PROJECT' | translate }}: {{ getProjectNames(appointment.projects) }}
      </span>
    </div>
  </td>
</ng-template>
